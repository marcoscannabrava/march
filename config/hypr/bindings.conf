# █▄▀ █▀▀ █▄█ █▄▄ █ █▄░█ █▀▄ █ █▄░█ █▀▀ █▀
# █░█ ██▄ ░█░ █▄█ █ █░▀█ █▄▀ █ █░▀█ █▄█ ▄█

# ------ Omarchy Defaults ------

# Application bindings
$terminal = uwsm-app -- $TERMINAL
$browser = omarchy-launch-browser

bindd = SUPER, RETURN, Terminal, exec, $terminal --working-directory="$(omarchy-cmd-terminal-cwd)"
bindd = SUPER, T, Terminal, exec, $terminal
bindd = SUPER, F, File manager, exec, uwsm-app -- nautilus --new-window
bindd = SUPER, B, Browser, exec, $browser
bindd = SUPER SHIFT, M, Music, exec, omarchy-launch-or-focus spotify
bindd = SUPER SHIFT, N, Editor, exec, omarchy-launch-editor
bindd = SUPER SHIFT, Escape, Activity, exec, $terminal -e btop
bindd = SUPER SHIFT, D, Docker, exec, $terminal -e lazydocker

# If your web app url contains #, type it as ## to prevent hyprland treating it as a comment
bindd = SUPER SHIFT, A, ChatGPT, exec, omarchy-launch-webapp "https://chatgpt.com"
bindd = SUPER SHIFT ALT, A, Grok, exec, omarchy-launch-webapp "https://grok.com"
bindd = SUPER SHIFT, Y, YouTube, exec, omarchy-launch-webapp "https://youtube.com/"
bindd = SUPER SHIFT ALT, G, WhatsApp, exec, omarchy-launch-or-focus-webapp WhatsApp "https://web.whatsapp.com/"

# Overwrite existing bindings, like putting Omarchy Menu on Super + Space
# unbind = SUPER, SPACE
# bindd = SUPER, SPACE, Omarchy menu, exec, omarchy-menu

# --------------------
# ------ Custom ------
# --------------------

# Window/Session actions
bind = SUPER, Q, exec, hyprctl dispatch killactive "" # close focused window
bind = Alt, F4, exec, hyprctl dispatch killactive "" # close focused window
bind = SUPER, Delete, exit, # kill hyprland session
bind = SUPER, G, togglegroup, # toggle the window between focus and group
bind = SUPER, L, exec, swaylock # launch lock screen
bind = SUPER+Shift, F, exec, $scrPath/windowpin.sh # toggle pin on focused window

# Switch workspaces
bind = SUPER, 0, workspace, 10

# Switch workspaces to a relative workspace
bind = SUPER+Ctrl, Right, workspace, r+1
bind = SUPER+Ctrl, Left, workspace, r-1

# Move to the first empty workspace
bind = SUPER+Ctrl, Down, workspace, empty

# Resize windows - TODO: conflicts with omarchy window swap
binde = SUPER+Shift, Right, resizeactive, 30 0
binde = SUPER+Shift, Left, resizeactive, -30 0
binde = SUPER+Shift, Up, resizeactive, 0 -30
binde = SUPER+Shift, Down, resizeactive, 0 30

# Move focused window to a relative workspace
bind = SUPER+Ctrl+Alt, Right, movetoworkspace, r+1
bind = SUPER+Ctrl+Alt, Left, movetoworkspace, r-1
bind = SUPER+Ctrl+Alt, Down, movetoworkspace, empty

# Move active window around current workspace with mainMod + SHIFT + CTRL [←→↑↓]
$moveactivewindow=grep -q "true" <<< $(hyprctl activewindow -j | jq -r .floating) && hyprctl dispatch moveactive
binded = SUPER SHIFT $CONTROL, left,Move active window to the left,exec, $moveactivewindow -30 0 || hyprctl dispatch movewindow l
binded = SUPER SHIFT $CONTROL, right,Move active window to the right,exec, $moveactivewindow 30 0 || hyprctl dispatch movewindow r
binded = SUPER SHIFT $CONTROL, up,Move active window up,exec, $moveactivewindow  0 -30 || hyprctl dispatch movewindow u
binded = SUPER SHIFT $CONTROL, down,Move active window down,exec, $moveactivewindow 0 30 || hyprctl dispatch movewindow d

# Scroll through existing workspaces
bind = SUPER, mouse_down, workspace, e+1
bind = SUPER, mouse_up, workspace, e-1

# Move/Resize focused window
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow
bindm = SUPER, Z, movewindow
bindm = SUPER, X, resizewindow

# Move/Switch to special workspace (scratchpad)
bind = SUPER+Shift, grave, movetoworkspace, special
bind = SUPER+Alt, grave, movetoworkspacesilent, special
bind = SUPER, grave, togglespecialworkspace,

# Toggle focused window split
bind = SUPER, J, togglesplit
